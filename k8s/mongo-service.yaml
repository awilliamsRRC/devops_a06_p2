apiVersion: v1                # using the core v1 API since Service is a basic Kubernetes object
kind: Service                 # this defines a Service resource
metadata:
  name: mongo                 # naming the Service 'mongo' so other pods can reach it via DNS (mongo:27017)
  labels:
    app: mongo                # adding a label 'app=mongo' for identification and grouping
spec:
  type: ClusterIP             # ClusterIP means the service is only accessible inside the cluster
  selector:
    app: mongo                # this service will send traffic to pods with label 'app=mongo'
  ports:
    - name: mongo             # naming the port 'mongo' (helps with probes and references)
      port: 27017             # the port exposed inside the cluster, other pods connect here
      targetPort: 27017       # the actual port on the MongoDB container that receives the traffic
